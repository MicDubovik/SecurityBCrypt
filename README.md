# SecurityBCrypt

Задание 5. Время ~120 мин.
Используя Spring Security, Sping MVC и Spring Data JPA, реализовать механизм авторизации пользователя по исходным данным, описанным ниже.

Пользователи хранятся в базе в таблицах t_users(id, login, passwd_hash).
Роли пользователей описаны в таблице t_roles(id, alias, friendly_name).
Принадлежность ролей пользователям задается таблицей t_users_roles(user_id, role_id).
 
1) Создать базу с таблицами, смэпить таблицы на сущности
2) Реализовать авторизацию на Spring Security следующим образом:
- находим пользователя по логину,
- берем предоставленный пользователем пароль, добавляем в конец строки символ (passwd_postfix, хранится в файле auth.properties), считаем хэш (использовать стандартый BCrypt)
- проверяем, соответствует ли хэш хранимому в базе
...
- PROFIT!
3) После авторизации выдать страничку с текстом Hello, %имя_пользователя%, your password is %пароль%. Пароль - в том виде, в котором его ввел пользователь, не хэш.
 
Инициализационная конфигурация Spring должна быть в xml-файлах (раздельно контекст приложения, security и mvc). Инициализационная - эта та, которую вы бы делали в классе, отмеченном аннотацией @Configuration, @EnableWebMvc и так далее.
 
Аннотации используем для компонентов и инъекции этих компонентов, например:
@Service
@Controller
@Component
@Repository
@RequestMapping
@Autowired
@RequestParam и т.д.
а так же для мэппинга сущностей и их частей в JPA (аннотации @Entity, @Column и т.д.)
 
Допустимо использовать аннотацию @Bean, если бин объявляется прямо в сервисе (или компоненте) и только этим сервисом и используется. В противном случае - бин объявляем в xml.
 
Сборщик - maven,  кодировка UTF-8.
 
СУБД - PostgreSQL.

p.s.  Таблицы создаются автоматически . Бд конфигурируется  в  application.properties.
Пожалуйста , установите свои настройки.
Создаются 2 default  users : 
michyy , password - 111111,
vano , password - 222222.

При регистрации  принимается пароль , конкатенируется со значением из файла auth.properties
и заносится в бд. После этого выводится сообщение "Hello %name%" your password is %password%.
